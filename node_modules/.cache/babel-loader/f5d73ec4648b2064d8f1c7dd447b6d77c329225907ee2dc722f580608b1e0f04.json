{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { StoreContextUser } from \"../Contenxt/authContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { authForm } from \"../Api/authForm\";\nexport const useLoginHook = () => {\n  _s();\n  const [credential, setCredential] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState(false);\n  const {\n    userToken\n  } = useContext(StoreContextUser);\n  const navigate = useNavigate();\n  const handleChange = e => {\n    setCredential({\n      ...credential,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmitForm = async e => {\n    e.preventDefault();\n    setError(false);\n    try {\n      const req = await authForm(credential.username, credential.password);\n      if (req.status === 200) {\n        const token = await req.data;\n        userToken(token);\n        navigate('/');\n      }\n    } catch (e) {\n      // Gestisci l'errore qui, ad esempio loggandolo\n      console.log(e); // errore del server\n      if (e.response.status !== 200) {\n        setError(true);\n      }\n    }\n  };\n  return {\n    credential,\n    setCredential,\n    error,\n    handleChange,\n    handleSubmitForm\n  };\n};\n_s(useLoginHook, \"XvAWOqiL/YA1/HT3rsB7YLVde7o=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useContext","useState","StoreContextUser","useNavigate","authForm","useLoginHook","_s","credential","setCredential","username","password","error","setError","userToken","navigate","handleChange","e","target","name","value","handleSubmitForm","preventDefault","req","status","token","data","console","log","response"],"sources":["/Users/geggiodev/Desktop/ReactPractice/shopping-ex/src/Hooks/useLoginHook.js"],"sourcesContent":["import {useContext, useState} from \"react\";\nimport {StoreContextUser} from \"../Contenxt/authContext\";\nimport {useNavigate} from \"react-router-dom\";\nimport {authForm} from \"../Api/authForm\";\n\nexport const useLoginHook = () => {\n  const [credential, setCredential] = useState({username: '', password: ''})\n  const [error,setError] = useState(false)\n  const {userToken} = useContext(StoreContextUser);\n  const navigate = useNavigate()\n\n  const handleChange = (e) => {\n    setCredential({\n      ...credential,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmitForm = async (e) => {\n    e.preventDefault();\n    setError(false)\n    try {\n      const req = await authForm(credential.username, credential.password);\n      if(req.status === 200){\n        const token = await req.data\n        userToken(token)\n        navigate('/')\n      }\n    } catch (e) {\n      // Gestisci l'errore qui, ad esempio loggandolo\n      console.log(e) // errore del server\n      if(e.response.status !== 200){\n        setError(true)\n      }\n    }\n  };\n  return {\n    credential,\n    setCredential,\n    error,\n    handleChange,\n    handleSubmitForm\n  }\n}"],"mappings":";AAAA,SAAQA,UAAU,EAAEC,QAAQ,QAAO,OAAO;AAC1C,SAAQC,gBAAgB,QAAO,yBAAyB;AACxD,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAAQC,QAAQ,QAAO,iBAAiB;AAExC,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC;IAACQ,QAAQ,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAE,CAAC,CAAC;EAC1E,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACxC,MAAM;IAACY;EAAS,CAAC,GAAGb,UAAU,CAACE,gBAAgB,CAAC;EAChD,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,YAAY,GAAIC,CAAC,IAAK;IAC1BR,aAAa,CAAC;MACZ,GAAGD,UAAU;MACb,CAACS,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAC5B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,gBAAgB,GAAG,MAAOJ,CAAC,IAAK;IACpCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBT,QAAQ,CAAC,KAAK,CAAC;IACf,IAAI;MACF,MAAMU,GAAG,GAAG,MAAMlB,QAAQ,CAACG,UAAU,CAACE,QAAQ,EAAEF,UAAU,CAACG,QAAQ,CAAC;MACpE,IAAGY,GAAG,CAACC,MAAM,KAAK,GAAG,EAAC;QACpB,MAAMC,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI;QAC5BZ,SAAS,CAACW,KAAK,CAAC;QAChBV,QAAQ,CAAC,GAAG,CAAC;MACf;IACF,CAAC,CAAC,OAAOE,CAAC,EAAE;MACV;MACAU,OAAO,CAACC,GAAG,CAACX,CAAC,CAAC,EAAC;MACf,IAAGA,CAAC,CAACY,QAAQ,CAACL,MAAM,KAAK,GAAG,EAAC;QAC3BX,QAAQ,CAAC,IAAI,CAAC;MAChB;IACF;EACF,CAAC;EACD,OAAO;IACLL,UAAU;IACVC,aAAa;IACbG,KAAK;IACLI,YAAY;IACZK;EACF,CAAC;AACH,CAAC;AAAAd,EAAA,CAtCYD,YAAY;EAAA,QAINF,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}